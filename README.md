Kubernetes Web Application Deployment

–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Kubernetes —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤.



–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø–∏—Å–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ kubernetes –≤ –≤–∏–¥–µ YAML-–º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏:

- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –º—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä (3 –∑–æ–Ω—ã), 5 –Ω–æ–¥
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç 5-10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 4 –ø–æ–¥–∞ —Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
- **–†–µ—Å—É—Ä—Å—ã**: burst CPU –Ω–∞ —Å—Ç–∞—Ä—Ç–µ, –∑–∞—Ç–µ–º —Å—Ç–∞–±–∏–ª—å–Ω–æ 0.1 CPU; –ø–∞–º—è—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ ~128MB
- **–ù–∞–≥—Ä—É–∑–∫–∞**: –¥–Ω–µ–≤–Ω–æ–π —Ü–∏–∫–ª - –ø–∏–∫ –¥–Ω–µ–º, –º–∏–Ω–∏–º—É–º –Ω–æ—á—å—é
- **–¶–µ–ª–∏**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å + –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

### 1. **Deployment** (`deployment.yaml`)
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º**: Pod Anti-Affinity –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω–∞—Ö
- **Rolling Update**: –ø–ª–∞–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ–≤
- **Health Checks**: startup, liveness, readiness probes —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **Resource Management**: requests/limits –¥–ª—è CPU burst –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è

### 2. **Service** (`service.yaml`)
- **ClusterIP**: –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ–¥–∞–º
- **Load Balancing**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞

### 3. **Horizontal Pod Autoscaler** (`hpa.yaml`)
- **–ú–µ—Ç—Ä–∏–∫–∏**: CPU (70%) –∏ Memory (80%)
- **–î–∏–∞–ø–∞–∑–æ–Ω**: 2-5 —Ä–µ–ø–ª–∏–∫
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**: –±—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–Ω–∏–∑

### 4. **Pod Disruption Budget** (`pdb.yaml`)
- **–ú–∏–Ω–∏–º—É–º —Ä–µ–ø–ª–∏–∫**: 2 –ø–æ–¥–∞ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã
- **–ó–∞—â–∏—Ç–∞**: –æ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–¥–æ–≤


### 5. **CronJobs** (`cronjob-*.yaml`)
- **–î–Ω–µ–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: 07:00 ‚Üí –º–∏–Ω–∏–º—É–º 4 —Ä–µ–ø–ª–∏–∫–∏
- **–ù–æ—á–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: 23:00 ‚Üí –º–∏–Ω–∏–º—É–º 2 —Ä–µ–ø–ª–∏–∫–∏

### 6. **RBAC** (`rbac.yaml`)
- **ServiceAccount**: –¥–ª—è CronJobs
- **–ü—Ä–∞–≤–∞**: –∏–∑–º–µ–Ω–µ–Ω–∏–µ HPA –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü—Ä–∏–Ω—è—Ç—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**
- **Pod Anti-Affinity**: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ (`requiredDuringScheduling`) —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º
- **–ú–∏–Ω–∏–º—É–º —Ä–µ–ø–ª–∏–∫**: 2-3 –ø–æ–¥–∞ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –æ—Ç–∫–∞–∑–∞ –∑–æ–Ω—ã
- **PDB**: –∑–∞—â–∏—Ç–∞ –æ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–¥–æ–≤
- **Rolling Update**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ–≤

### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
- **CPU requests**: 100m (–º–∏–Ω–∏–º—É–º –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞)
- **CPU limits**: 500m (–¥–ª—è burst –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ)
- **Memory**: requests=limits=128Mi (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ OOM)
- **Startup probe**: –¥–æ 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é

### **–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **HPA –ø–æ CPU/Memory**: —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –Ω–∞–≥—Ä—É–∑–∫—É
- **Behavior policies**: –±—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–Ω–∏–∑
- **CronJobs**: –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –ª–∏–Ω–∏–∏
- **VPA —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**: –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
- **Prometheus annotations**: –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–±–æ—Ä—É –º–µ—Ç—Ä–∏–∫
- **Comprehensive probes**: startup, liveness, readiness
- **Graceful shutdown**: 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–†–µ—à–µ–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- ‚úÖ **99.9% uptime** –∑–∞ —Å—á–µ—Ç –º—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ –∏ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤** –≤ —Å–ø–æ–∫–æ–π–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
- ‚úÖ **–ë—ã—Å—Ç—Ä—É—é —Ä–µ–∞–∫—Ü–∏—é** –Ω–∞ –ø–∏–∫–æ–≤—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç—É –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
